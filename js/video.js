"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],n=!0,a=!1,i=void 0;try{for(var o,l=e[Symbol.iterator]();!(n=(o=l.next()).done)&&(r.push(o.value),!t||r.length!==t);n=!0);}catch(e){a=!0,i=e}finally{try{n||null==l.return||l.return()}finally{if(a)throw i}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}var player,iframe,koef,underline,TIMELINE=document.querySelector(".video__progress"),TIME_ABOVE=document.querySelector(".show-time"),DURATION=document.querySelector(".video__duration"),VIDEO_TIME=document.querySelector(".video__current-time"),START=document.querySelector(".video__start"),PAUSE=document.querySelector(".fa-pause-circle"),PLAYLIST=document.querySelector(".video__playlist"),PLAYLIST_ITEM=document.querySelectorAll(".video__playlist-item"),FULLSCREEN=document.querySelector(".video__fullscreen"),COMPRESS=document.querySelector(".fa-compress"),VOLUME=document.querySelector(".video__progress-volume"),MUTE=document.querySelector(".fa-volume-mute"),UNMUTE=document.querySelector(".video__unmute"),videoPlayer=document.querySelector(".video__player"),id="bOp6gsu3P38",videoDuration=144,tag=document.createElement("script");tag.src="https://www.youtube.com/player_api";var firstScriptTag=document.getElementsByTagName("script")[0];function onYouTubePlayerAPIReady(){player=new YT.Player("player",{height:"360",width:"640",videoId:id,playerVars:{controls:0,rel:0,showinfo:0,fs:0,autoplay:0},events:{onReady:onPlayerReady,onStateChange:onPlayerStateChange}})}function onPlayerReady(){DURATION.innerHTML=parseDuration(videoDuration),koef=1e3/videoDuration,iframe=videoPlayer,setupListener(),getVolumeValue()}function onPlayerStateChange(e){switch(e.data){case YT.PlayerState.PLAYING:start(),startPlayer();break;case YT.PlayerState.PAUSED:case YT.PlayerState.ENDED:pause(),pausePlayer();break;case YT.PlayerState.BUFFERING:pause()}}function parseDuration(e){var t=Math.floor(e/60),r=e-60*t;return t+":"+(r<10?"0"+r:r)}firstScriptTag.parentNode.insertBefore(tag,firstScriptTag);var timer,ms=0,s=0,m=0;function start(){timer||(timer=setInterval(run,10))}function run(){VIDEO_TIME.innerHTML=getTimer(),100==++ms&&(ms=0,s++),60==s&&(s=0,m++),TIMELINE.value=s*koef+60*m*koef;var e=TIMELINE.value/10,t="linear-gradient(90deg, #f78181 ".concat(e,"%, rgba(69, 69, 69, .3) ").concat(e,"%)");TIMELINE.style.background=t,underline.style.width="".concat(e,"%")}function pause(){stopTimer()}function stop(){stopTimer(),ms=0,s=0,m=0}function stopTimer(){clearInterval(timer),timer=!1}function getTimer(){return m+":"+(s<10?"0"+s:s)}function restart(){stop(),start()}function pausePlayer(){player.pauseVideo(),hideAndDisplayItems(PAUSE,START,"block")}function startPlayer(){player.playVideo(),hideAndDisplayItems(START,PAUSE,"block")}function fullscreenVideo(){hideAndDisplayItems(FULLSCREEN,COMPRESS,"block")}function compressVideo(){hideAndDisplayItems(COMPRESS,FULLSCREEN,"block")}function setupListener(){FULLSCREEN.addEventListener("click",playFullscreen),COMPRESS.addEventListener("click",closeFullscreen)}function playFullscreen(){iframe.requestFullscreen?iframe.requestFullscreen():iframe.mozRequestFullScreen?iframe.mozRequestFullScreen():iframe.webkitRequestFullscreen?iframe.webkitRequestFullscreen():iframe.msRequestFullscreen&&iframe.msRequestFullscreen()}function closeFullscreen(){document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()}function getVolumeValue(){VOLUME.value=player.getVolume(),VOLUME.style.background="linear-gradient(90deg, #f78181 ".concat(VOLUME.value,"%, rgba(69, 69, 69, .3) ").concat(VOLUME.value,"%)")}function muteVideo(){player.mute(),hideAndDisplayItems(UNMUTE,MUTE,"inline")}function unmuteVideo(){player.unMute(),hideAndDisplayItems(MUTE,UNMUTE,"inline")}function hideAndDisplayItems(e,t,r){e.style.display="none",t.style.display=r}TIMELINE.addEventListener("mousemove",(function(e){var t=TIMELINE.getBoundingClientRect().left,r=TIMELINE.getBoundingClientRect().right-t,n=(window.event.clientX-t)/r;TIME_ABOVE.style.opacity="1",TIME_ABOVE.style.left="".concat(100*n,"%"),TIME_ABOVE.innerHTML=parseDuration((n*videoDuration).toFixed(0))})),TIMELINE.addEventListener("mouseleave",(function(e){TIME_ABOVE.style.opacity="0"})),TIMELINE.addEventListener("input",(function(e){var t=Math.floor(videoDuration*TIMELINE.value/1e3);m=Math.floor(Math.floor(videoDuration*TIMELINE.value/1e3)/60),s=t-60*m,player.seekTo(t,!0)})),PAUSE.addEventListener("click",pausePlayer),START.addEventListener("click",startPlayer),PLAYLIST_ITEM.forEach((function(e){e.classList.contains("--play")&&((underline=document.createElement("div")).classList.add("underline"),e.append(underline)),e.addEventListener("click",(function(){var t,r;document.getElementById(id).classList.remove("--play"),id=e.id,e.classList.add("--play"),player.loadVideoById(id),restart();var n=_slicedToArray(e.querySelector(".video__playlist-time").innerHTML.split(":"),2);t=n[0],r=n[1],videoDuration=60*parseInt(t)+parseInt(r),DURATION.innerHTML=parseDuration(videoDuration),koef=1e3/videoDuration,(underline=document.createElement("div")).classList.add("underline"),e.append(underline)}))})),FULLSCREEN.addEventListener("click",fullscreenVideo),COMPRESS.addEventListener("click",compressVideo),VOLUME.addEventListener("input",(function(){player.setVolume(VOLUME.value);var e=VOLUME.value;VOLUME.style.background="linear-gradient(90deg, #f78181 ".concat(e,"%, rgba(69, 69, 69, .3) ").concat(e,"%)")})),UNMUTE.addEventListener("click",muteVideo),MUTE.addEventListener("click",unmuteVideo);